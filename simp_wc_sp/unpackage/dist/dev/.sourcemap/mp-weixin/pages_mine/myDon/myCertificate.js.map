{"version":3,"sources":["webpack:///E:/workspace/simp/simp_wc_sp/main.js","webpack:///E:/workspace/simp/simp_wc_sp/pages_mine/myDon/myCertificate.vue?5e75","webpack:///E:/workspace/simp/simp_wc_sp/pages_mine/myDon/myCertificate.vue?5343","webpack:///E:/workspace/simp/simp_wc_sp/pages_mine/myDon/myCertificate.vue?769d","webpack:///E:/workspace/simp/simp_wc_sp/pages_mine/myDon/myCertificate.vue?2252","webpack:///E:/workspace/simp/simp_wc_sp/pages_mine/myDon/myCertificate.vue","webpack:///E:/workspace/simp/simp_wc_sp/pages_mine/myDon/myCertificate.vue?85d6","webpack:///E:/workspace/simp/simp_wc_sp/pages_mine/myDon/myCertificate.vue?718c"],"names":["createPage","Page","components","uniPopup","data","id","type","name","donProName","money","date","image","codeUrl","school_name","computed","onLoad","options","request","http","url","header","success","res","code","app","RESPONSE_STATUS","REQUEST_SUCCESS","util","strcharacterDiscode","donProject","dateUtils","ConverStringToDate","time","fail","console","log","onShow","configParams","onShareAppMessage","expand","saveShare","share_code","MYCERTIFICATE_SHARE","donName","truePath","encodeURIComponent","JSON","stringify","title","path","methods","togglePopup","goIndex","uni","switchTab","getInfo","getCode","method","responseType","arrayBufferToBase64","error","share","provider","imageUrl","miniProgram","webUrl","ret","saveImage","canvasId","x","y","w","h","r","showLoading","cav","createCanvasContext","drawImage","font","fillText","str","lineWidth","canvasWidth","initHeight","lastSubStrIndex","i","length","measureText","width","substring","draw","canvasToTempFilePath","hideLoading","tempFilePath","saveImageToPhotosAlbum","filePath","showToast"],"mappings":"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","file":"pages_mine/myDon/myCertificate.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages_mine/myDon/myCertificate.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./myCertificate.vue?vue&type=template&id=2ff59e17&\"\nimport script from \"./myCertificate.vue?vue&type=script&lang=js&\"\nexport * from \"./myCertificate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./myCertificate.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('2ff59e17', component.options)\n    } else {\n      api.reload('2ff59e17', component.options)\n    }\n    module.hot.accept(\"./myCertificate.vue?vue&type=template&id=2ff59e17&\", function () {\n      api.rerender('2ff59e17', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/workspace/simp/simp_wc_sp/pages_mine/myDon/myCertificate.vue\"\nexport default component.exports","export * from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-hbuilderx\\\\packages\\\\webpack-uni-nvue-loader\\\\lib\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./myCertificate.vue?vue&type=template&id=2ff59e17&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./myCertificate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./myCertificate.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport util from '@/common/util.js';\nimport app from '@/common/app.js'; //公共变量\nimport request from '@/common/request.js';\nimport uniPopup from '@/components/uni-popup/uni-popup.vue';\nimport expand from '@/common/expand.js';\nimport {\n    mapState\n} from 'vuex';\nexport default {\n    components: {\n        uniPopup\n    },\n    data() {\n        return {\n            id: \"\",\n            type: '',\n            name: '',\n            donProName: '',\n            money: \"\",\n            date: '',\n            image: '/static/img/feedback.png',\n            codeUrl: \"/static/logo.png\",\n            school_name: \"\"\n        }\n    },\n    computed: {\n        ...mapState(['configParams'])\n    },\n    onLoad(options) {\n        // this.getCode();\n        this.id = options.id;\n        request.http({\n            url: \"/app/don/getId\",\n            data: {\n                id: this.id,\n            },\n            header: 'application/x-www-form-urlencoded',\n            success: (res) => {\n                if (res.data.code == app.RESPONSE_STATUS.REQUEST_SUCCESS) {\n                    this.name = res.data.data.name;\n                    this.money = res.data.data.money;\n                    this.donProName = util.strcharacterDiscode(res.data.data.donProject.name);\n                    this.date = util.dateUtils.ConverStringToDate(res.data.data.time);\n\n                }\n            },\n            fail: (data, code) => {\n                console.log(data);\n            }\n        })\n    },\n    onShow() {\n        this.school_name = this.configParams.school_name;\n    },\n    onShareAppMessage(res) {\n        expand.saveShare(app.share_code.MYCERTIFICATE_SHARE);\n\n        let donName = this.name;\n        var truePath = encodeURIComponent(JSON.stringify('/pages_mine/myDon/myCertificate?id=' + encodeURIComponent(\n            this.id)));\n        return {\n            title: donName + '分享了ta的捐赠证书，赶快去看看吧',\n            path: '/pages/tabbar/index/index?truePath=' + truePath,\n        }\n    },\n    methods: {\n        togglePopup(type) {\n            this.type = type\n        },\n        goIndex() {\n            uni.switchTab({\n                url: '/pages/tabbar/index/index'\n            });\n        },\n        getInfo() {\n\n        },\n        //获取二维码连接\n        getCode() {\n            request.http({\n                url: '/app/wx/getWCRecode',\n                method: \"POST\",\n                header: 'application/x-www-form-urlencoded',\n                data: {\n                    'scene': \"scene\",\n                    'page': \"pages/tabbar/index/index\",\n                    'width': 300\n                },\n                responseType: 'arraybuffer',\n                success: (res) => {\n                    // this.codeUrl = res.data;\n                    this.codeUrl = 'data:image/jpg;base64,' + uni.arrayBufferToBase64(res.data)\n                    // console.log(imgBase64);\n                    // this.codeUrl = 'data:image/jpg;base64,' + imgBase64;\n                },\n                error: (res) => {\n                    console.log(res);\n                }\n            });\n        },\n        share() {\n            uni.share({\n                provider: 'weixin',\n                type: 5,\n                imageUrl: 'https://img-cdn-qiniu.dcloud.net.cn/uniapp/app/share-logo@3.png',\n                title: '欢迎体验uniapp',\n                miniProgram: {\n                    id: 'gh_abcdefg',\n                    path: 'pages/index/index',\n                    type: 0,\n                    webUrl: 'http://uniapp.dcloud.io'\n                },\n                success: ret => {\n                    console.log(JSON.stringify(ret));\n                }\n            });\n        },\n        /* saveImage() {\n             uni.chooseImage({\n                 count: 1,\n                 sourceType: ['camera'],\n                 success: function(res) {\n                     uni.saveImageToPhotosAlbum({\n                         filePath: res.tempFilePaths[0],\n                         success: function() {\n                             console.log('save success');\n                         }\n                     });\n                 }\n             });\n         }, */\n        saveImage(canvasId) {\n\n            // x 圆角矩形选区的左上角 x坐标\n            // y 圆角矩形选区的左上角 y坐标\n            // w 圆角矩形选区的宽度\n            // h 圆角矩形选区的高度\n            // r 圆角的半径 \n            let x = 120\n            let y = 70\n            let w = 150\n            let h = 30\n            let r = 14\n            uni.showLoading({\n                title: '图片绘制中...',\n            })\n            let cav = uni.createCanvasContext('sharecard');\n\n            //上部背景\n            cav.drawImage('/static/img/feedback.png', 0, 0, 602, 848);\n            //文字\n            cav.font = 'normal bold 18px sans-serif';\n            // cav.setTextAlign('center');\n            cav.fillText('亲爱的' + this.name, 120, 320);\n            var str = \"感谢您对\" + this.school_name + this.donProName + \"项目的关心和支持,我们将遵照您的意愿,将您捐赠的\" + this.money +\n                \"元人民币全部用于\" + this.school_name +\n                this.donProName +\n                \"项目\";\n            var lineWidth = 0;\n            var canvasWidth = 350; //计算canvas的宽度\n            var initHeight = 350; //绘制字体距离canvas顶部初始的高度\n            var lastSubStrIndex = 0; //每次开始截取的字符串的索引\n            for (let i = 0; i < str.length; i++) {\n                lineWidth += cav.measureText(str[i]).width;\n                if (lastSubStrIndex == 0) {\n                    if (lineWidth > canvasWidth) {\n                        cav.fillText(str.substring(lastSubStrIndex, i), 150, initHeight); //绘制截取部分\n                        initHeight += 30; //20为字体的高度\n                        lineWidth = 0;\n                        lastSubStrIndex = i;\n                    }\n                } else {\n                    if (lineWidth > canvasWidth) {\n                        cav.fillText(str.substring(lastSubStrIndex, i), 120, initHeight); //绘制截取部分\n                        initHeight += 30; //20为字体的高度\n                        lineWidth = 0;\n                        lastSubStrIndex = i;\n                    }\n                }\n\n                if (i == str.length - 1) { //绘制剩余部分\n                    cav.fillText(str.substring(lastSubStrIndex, i + 1), 120, initHeight);\n                }\n            }\n\n            cav.fillText(\"谨呈此证，深表谢忱\", 190, 520);\n            cav.fillText(this.school_name, 380, 613);\n            cav.fillText(this.date, 300, 633);\n            cav.draw(false, function() {\n                uni.canvasToTempFilePath({\n                    canvasId: 'sharecard',\n                    success: function(res) {\n                        uni.hideLoading()\n                        console.log(res.tempFilePath)\n                        uni.saveImageToPhotosAlbum({\n                            filePath: res.tempFilePath,\n                            success: function(res) {\n                                console.log(\"图片已保存\")\n                                uni.showToast({\n                                    title: '图片已保存'\n                                })\n                            },\n                            fail() {\n                                console.log(\"失败了canvasToTempFilePath\");\n                            }\n                        })\n                    },\n                    fail(res) {\n                        console.log(res);\n                    }\n                })\n\n            })\n        }\n    },\n}\n","import mod from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./myCertificate.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./myCertificate.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}